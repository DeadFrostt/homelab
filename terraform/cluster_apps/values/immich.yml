env:
  REDIS_HOSTNAME: redis-master.databases.svc.cluster.local
  REDIS_PORT: "6379"
  REDIS_PASSWORD: redis
  REDIS_DBINDEX: "9"

image:
  tag: v1.114.0

immich:
  metrics:
    enabled: true
  persistence:
    library:
      existingClaim: immich-library-pvc

postgresql:
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
  metrics:
    serviceMonitor:
      enabled: true
    prometheusRule:
      enabled: true
  enabled: true
  primary:
    persistence:
      enabled: true
      accessMode: ReadWriteOnce
      size: 3Gi
      storageClass: nfs-jabberwock-subpath
    podSecurityContext:
      enabled: true
      fsGroup: 1001
      runAsUser: 1001
      runAsGroup: 1001
    containerSecurityContext:
      enabled: true
      runAsUser: 1001
      runAsGroup: 1001
    startupProbe:
      enabled: true

redis:
  enabled: false

server:
  enabled: true

machine-learning:
  enabled: true
  persistence:
    cache:
      enabled: true
      size: 10Gi
      type: pvc
      storageClass: nfs-jabberwock-subpath
      accessMode: ReadWriteMany
